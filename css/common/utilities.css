/* |||||||||| |||||||||| |||||||||| |||||||||| no scroll on open modal */
.root-scroller {
	block-size: 100dvb;
	overflow: auto;
	scrollbar-gutter: stable both-edges;

	&:has(dialog[open]:modal) {
		overflow: hidden;
	}
}

/* |||||||||| |||||||||| |||||||||| |||||||||| a11y */
.sr-only,
.sr-only-focusable:not(:focus):not(:focus-within) {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border: 0;
}

/* |||||||||| |||||||||| |||||||||| |||||||||| grid system */
.grid-x {
	--shrink: 0.75;
	--width: var(--container-width, var(--max-content-width));
	--count: var(--repeat, auto-fit);

	--col-x: repeat(
		var(--count),
		minmax(
			min(
				(
					((var(--width) - var(--gap-x, 0rem) * (var(--col) - 1)) / var(--col)) *
						var(--shrink)
				),
				100%
			),
			1fr
		)
	);

	display: grid;
	column-gap: var(--gap-x, 0rem);
	row-gap: var(--gap-y, 0rem);
	grid-template-columns: var(--col-x);
}

/* |||||||||| |||||||||| |||||||||| flex */
.flex-x {
	--shrink: 0.75;
	--width: var(--container-width, var(--max-content-width));

	--width-x: min(
		(
			((var(--width) - var(--gap-x, 0rem) * (var(--col) - 1)) / var(--col)) *
				var(--shrink)
		),
		100%
	);

	display: flex;
	flex-wrap: wrap;
	justify-content: center;
	column-gap: var(--gap-x, 0rem);
	row-gap: var(--gap-y, 0rem);
}
.flex-x > * {
	flex: 1 1 var(--width-x);
}

/* |||||||||| |||||||||| |||||||||| width */
.width-x {
	--width: var(--container-width, var(--max-content-width));
	--width-x: min(
		(
			((var(--width) - var(--gap-x, 0rem) * (var(--col) - 1)) / var(--col)) *
				var(--x) + var(--gap-x, 0rem) * (var(--x) - 1)
		),
		100%
	);

	width: var(--width-x);
}

/* |||||||||| |||||||||| |||||||||| */
.grid-full-width {
	grid-column: 1 / -1;
}

.grid-center {
	display: grid;
	place-items: center;
	place-content: center;
}

.c-span-x {
	grid-column: span var(--x, 2);
}
.r-span-x {
	grid-row: span var(--x, 2);
}

/* |||||||||| |||||||||| |||||||||| |||||||||| img */
.img-box {
	position: relative;
	container: img-container / inline-size;
	overflow: hidden;
}
.img-box > * {
	position: absolute;
	inset: 0;
}

.o-fit-cover {
	width: 100%;
	height: 100%;
	object-fit: cover;
}
.o-fit-contain {
	width: 100%;
	height: 100%;
	object-fit: contain;
}

.circle,
.circle::before,
.circle::after {
	border-radius: 50%;
	aspect-ratio: 1;
	overflow: hidden;
}
/* |||||||||| |||||||||| |||||||||| |||||||||| */
.v-visible {
	visibility: visible;
}

/* |||||||||| |||||||||| |||||||||| |||||||||| */
.margin-l-auto {
	margin-left: auto;
}

/* |||||||||| |||||||||| |||||||||| |||||||||| ellipsis */
.ellipsis {
	max-width: 100%;
	text-overflow: ellipsis;
	white-space: nowrap;
	overflow-x: hidden;
}
.ellipsis-box:where(:hover, :focus-visible) .ellipsis {
	overflow-x: auto;
	scrollbar-width: none;
	text-overflow: clip; /* for webkit-based browsers */
}
*:where(:hover, :focus) .ellipsis::-webkit-scrollbar {
	display: none;
}

/* |||||||||| |||||||||| |||||||||| ||||||||||  counter */
.counter {
	counter-reset: items-counter;
}
.counter > * {
	counter-increment: items-counter;
}
.counter > *::before {
	--indent: 1rem;

	min-width: 3rem;
	font-size: 20cqw;
	font-weight: var(--fw-bd);
	color: var(--clr-0a-solid);
	inset: 0;
	margin: auto;
	opacity: 0.5;
	/* background: var(--sphere); */
	/* border: 0.2rem solid white; */

	position: absolute;
	content: counter(items-counter);
	display: flex;
	align-items: center;
	justify-content: center;
	aspect-ratio: 1;
	line-height: 1;
	border-radius: 50%;
	overflow: hidden;
	z-index: 1;
}

/* |||||||||| |||||||||| |||||||||| |||||||||| */
.overlay::after {
	position: absolute;
	content: "";
	inset: 0;
	background: var(--clr-filter);
}

/* |||||||||| |||||||||| |||||||||| |||||||||| */
.clr-txt-0a {
	color: var(--clr-0a-solid);
}
